[{"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/index.js":"1","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/App.js":"2","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Profile.js":"3","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/PublicRoute.js":"4","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/contexts/UserContext.js":"5","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/Login.js":"6","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/Register.js":"7","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/contexts/TokenContext.js":"8","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/PrivateRoute.js":"9","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/ForgotPassword.js":"10","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Members.js":"11","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/Error.js":"12","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/Header.js":"13","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppBottomTooltip.js":"14","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppTable.js":"15","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/helpers/helper.js":"16","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/helpers/Toastify.js":"17","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/authService.js":"18","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/userService.js":"19","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppTableActions.js":"20","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/apolloClient.js":"21","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/InviteUser.js":"22"},{"size":207,"mtime":1611849115722,"results":"23","hashOfConfig":"24"},{"size":2210,"mtime":1611849115734,"results":"25","hashOfConfig":"24"},{"size":150,"mtime":1611849115727,"results":"26","hashOfConfig":"24"},{"size":771,"mtime":1611849115723,"results":"27","hashOfConfig":"24"},{"size":105,"mtime":1611849115722,"results":"28","hashOfConfig":"24"},{"size":3226,"mtime":1611934545878,"results":"29","hashOfConfig":"24"},{"size":4901,"mtime":1611937612639,"results":"30","hashOfConfig":"24"},{"size":107,"mtime":1611849115721,"results":"31","hashOfConfig":"24"},{"size":972,"mtime":1611849115725,"results":"32","hashOfConfig":"24"},{"size":1233,"mtime":1611849115730,"results":"33","hashOfConfig":"24"},{"size":3726,"mtime":1611933704219,"results":"34","hashOfConfig":"24"},{"size":219,"mtime":1611849115725,"results":"35","hashOfConfig":"24"},{"size":1243,"mtime":1611928636932,"results":"36","hashOfConfig":"24"},{"size":398,"mtime":1611849115724,"results":"37","hashOfConfig":"24"},{"size":1938,"mtime":1611939045194,"results":"38","hashOfConfig":"24"},{"size":547,"mtime":1611849115733,"results":"39","hashOfConfig":"24"},{"size":663,"mtime":1611849115733,"results":"40","hashOfConfig":"24"},{"size":1368,"mtime":1611934940970,"results":"41","hashOfConfig":"24"},{"size":2013,"mtime":1611939528177,"results":"42","hashOfConfig":"24"},{"size":1362,"mtime":1611926508579,"results":"43","hashOfConfig":"24"},{"size":430,"mtime":1611939543839,"results":"44","hashOfConfig":"24"},{"size":680,"mtime":1611930706132,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1nephug",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/index.js",[],["92","93"],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/App.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Profile.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/PublicRoute.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/contexts/UserContext.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/Login.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/Register.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/contexts/TokenContext.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/PrivateRoute.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Auth/ForgotPassword.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/pages/Members.js",["94"],"import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { ArrowCounterclockwise } from 'react-bootstrap-icons';\nimport AppBottomTooltip from '../components/AppBottomTooltip';\nimport AppTable from '../components/AppTable';\nimport InviteUser from '../components/InviteUser';\nimport UserContext from '../contexts/UserContext';\nimport { jsonParse } from '../helpers/helper';\nimport { toastNotification } from '../helpers/Toastify';\nimport { getUsers, updateOpenToUser, resetAllOpen, inviteMember } from '../services/userService';\n\nconst Members = () => {\n    const { user } = useContext(UserContext);\n    const { role } = jsonParse(user);\n\n    const [ users, setUsers ] = useState([]);\n    const commonCols = [\n        { label: 'Nom et prénom', key: 'name' },\n        { label: 'Promotion', key: 'promotion' },\n        { label: 'Moto', key: 'bike' },\n    ]\n    let additionalCols = [];\n\n    if (role === 'ADMIN') {\n        additionalCols = [\n            { label: 'Status', key: 'status' },\n            { label: 'Points OPEN', key: 'open' },\n            { label: 'Actions', key: 'actions' }\n        ]\n    }\n\n    const cols = [...commonCols, ...additionalCols];\n\n    const fetchUsers = useCallback(() => {\n        let status = ['ENABLED'];\n        \n        if (role === 'ADMIN') {\n            status = ['ENABLED', 'PENDING', 'DISABLED']\n        }\n        \n        getUsers(status).then(users => {\n            const usersWithName = users.map(user => {\n                return {...user, name: `${user.lastname} ${user.firstname}`};\n            })\n            setUsers(usersWithName);\n        })\n    }, [role])\n\n    useEffect(() => {\n        fetchUsers();\n    }, []);\n\n    const handleAddClick = useCallback((id, open) => {\n        updateOpenToUser(id, open + 1).then(() => fetchUsers());\n    }, [fetchUsers]);\n\n    const handleMinusClick = useCallback((id, open) => {\n        updateOpenToUser(id, open - 1).then(() => fetchUsers());\n    }, [fetchUsers]);\n\n    const handleResetClick = useCallback((id) => {\n        updateOpenToUser(id, 0).then(() => fetchUsers());\n    }, [fetchUsers]);\n\n    const handleResetAllClick = useCallback(() => {\n        if (window.confirm('Es tu sûr de vouloir remettre à 0 les points OPEN de tous les membres?')) {\n            resetAllOpen().then(() => {\n                fetchUsers()\n            });\n        }\n    }, [fetchUsers]);\n\n    const handleInviteClick = useCallback(async email => {\n        const result = await inviteMember(email);\n\n        if (result) {\n            toastNotification('success', 'Le membre a bien été invité');\n            fetchUsers();\n        }\n    }, [fetchUsers]);\n\n    return (\n        <div className=\"container\">\n            <div className=\"text-center mb-3\">\n                <h1>Liste des membres</h1>\n            </div>\n            { role === 'ADMIN' && (\n                <div className=\"row justify-content-between align-items-center mb-3\">\n                    <div className=\"col-5\">\n                        <InviteUser handleInviteClick={handleInviteClick} />\n                    </div>\n                    <AppBottomTooltip tooltipText=\"Reset tous les points de tous les membres\">\n                        <Button onClick={handleResetAllClick} variant=\"dark\"> <ArrowCounterclockwise size={24} />&nbsp;Reset all</Button>\n                    </AppBottomTooltip>\n                </div>\n            )}\n            <AppTable\n                cols={cols}\n                values={users}\n                handleAddClick={handleAddClick}\n                handleMinusClick={handleMinusClick}\n                handleResetClick={handleResetClick}\n            />\n        </div>\n    )\n}\n\nexport default Members;","/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/Error.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/Header.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppBottomTooltip.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppTable.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/helpers/helper.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/helpers/Toastify.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/authService.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/userService.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/AppTableActions.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/services/apolloClient.js",[],"/Users/quentin/Documents/esgi/assoc moto/Motorga/react/src/components/InviteUser.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":51,"column":8,"nodeType":"101","endLine":51,"endColumn":10,"suggestions":"102"},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.","ArrayExpression",["105"],"no-global-assign","no-unsafe-negation",{"desc":"106","fix":"107"},"Update the dependencies array to be: [fetchUsers]",{"range":"108","text":"109"},[1722,1724],"[fetchUsers]"]